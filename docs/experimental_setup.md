# Experimental setup

## The wave flume
The experiments were conducted in a narrow wave flume at the  Department of Marine Technology, NTNU. The lab has transparent side walls, enabling visual observation of the modeled two-dimensional conditions. The flume has a length of 13.63 m, width of 0.6 m, and water depth of 1.0 m. A flap-type wavemaker, hinged 0.1 m above the bottom, generates waves, while a parabolic perforated beach with effective length of 1.8 m absorbs wave energy at the opposite end. The beach is submerged by approximately 0.003 m and terminates about 0.43 m from the wave-flume end.

![Wave flume](./figures/The%20wave%20flume%20and%20wave%20probe%20positions.png)

## The model

The geometric and inertial properties of the model are listed in the table below. The length in $x$ direction, _L_, is slightly smaller than the wave-flume width, leaving a gap of approximately $0.007$ m on each side of the model.

| Parameter | Value |
|----|----| 
| Length in _x_ direction, _L_ [m] | 0.586 |
| Beam, _B_ [m] | 0.40 |
| Depth, _D_ [m] | 0.256 |
| Draft, _d_ [m] | 0.20 |
| Bilge radius, $r_{Bilge}$ [m] | 0.0512 |
| Displacement, $\nabla$ [kg] | 46.8 |
| Center of gravity from the keel, _KG_ [m] | 0.108 |
| Roll radius of gyration, $r_{Roll}/B$ | 0.360 |
| Roll metacentric height, $GM_{Roll}$ [m] |  0.0629 |

<img src="./figures/Model%20profile%20view.png" alt="Model profile view" width="400"/>

The section was constructed with an inner plywood box reinforced with closed-cell
PVC foam (Divinycell). The foam was coated with wax and painted bright yellow for visibility. Copper beams were added on the deck to adjust the roll radius of gyration to match the desired value of $r_{Roll}/B$, ensuring dynamic similarity with the reference case. A static heel test verified the center of gravity, yielding a measured $KG = 0.106$ m, within the acceptable margin of error.

## The waves
14 different frequencies were applied, with the two constant wave heights $H_1=0.024$ m and $H_2=0.04$ m. Key properties of the wave frequencies are listed in the table below, organized by $\xi_B  = \frac{\omega^2}{g} \frac{B}{2} $


| Index | ξ_B [-] | ω [rad/s] | T [s]   | k [rad/m] | λ [m]  | c_g [m/s] | h/λ [-] | Refl. Time [s] | λ/L_beach [-] |
|------:|--------:|-----------:|--------:|-----------:|--------:|-----------:|----------:|----------------:|----------------:|
| 1     | 0.350   | 4.143      | 1.516   | 1.750     | 3.590   | 1.184     | 0.279    | 10.137          | 1.995          |
| 2     | 0.500   | 4.952      | 1.269   | 2.500     | 2.513   | 0.990     | 0.398    | 12.116          | 1.396          |
| 3     | 0.525   | 5.075      | 1.238   | 2.625     | 2.394   | 0.967     | 0.418    | 12.415          | 1.330          |
| 4     | 0.550   | 5.194      | 1.210   | 2.750     | 2.285   | 0.944     | 0.438    | 12.707          | 1.269          |
| 5     | 0.575   | 5.311      | 1.183   | 2.875     | 2.185   | 0.924     | 0.458    | 12.993          | 1.214          |
| 6     | 0.600   | 5.425      | 1.158   | 3.000     | 2.094   | 0.904     | 0.477    | 13.272          | 1.164          |
| 7     | 0.650   | 5.646      | 1.113   | 3.250     | 1.933   | 0.869     | 0.517    | 13.814          | 1.074          |
| 8     | 0.700   | 5.860      | 1.072   | 3.500     | 1.795   | 0.837     | 0.557    | 14.335          | 0.997          |
| 9     | 0.750   | 6.065      | 1.036   | 3.750     | 1.676   | 0.809     | 0.597    | 14.839          | 0.931          |
| 10    | 1.000   | 7.004      | 0.897   | 5.000     | 1.257   | 0.700     | 0.796    | 17.134          | 0.698          |
| 11    | 1.250   | 7.830      | 0.802   | 6.250     | 1.005   | 0.626     | 0.995    | 19.157          | 0.559          |
| 12    | 1.500   | 8.578      | 0.733   | 7.500     | 0.838   | 0.572     | 1.194    | 20.985          | 0.465          |
| 13    | 1.750   | 9.265      | 0.678   | 8.750     | 0.718   | 0.529     | 1.393    | 22.666          | 0.399          |
| 14    | 2.000   | 9.905      | 0.634   | 10.000    | 0.628   | 0.495     | 1.592    | 24.231          | 0.349          |

In the present experiments, the prescribed incident-wave steepness $k \zeta_a$ ranged between $0.007$ and $0.2$, where $k$ is the wave number and $\zeta_a$ the wave amplitude. The values of the wave period $T$, ranging from $0.634$ to $1.516$ s, were within the operational range of the wave flume. To check issues related to resonance of water in the flume, the natural sloshing periods for both longitudinal and transverse modes were estimated. Based on these values, the selected range of wave periods is slightly above the second transverse sloshing period ($T_{st,2}=0.62$ s), while the first transverse sloshing period ($T_{st, 1} = 0.88$ s) falls within the examined $T$ range.

The prescribed waves were enforced using the transfer function for the height $H$ of the waves generated by a flap wavemaker hinged at the depth $h_{wm} = 0.9$ m with stroke amplitude $S$ measured at the mean free surface (see Dean and Dalrymple, 1991). An amplification factor $a_f$ was introduced in the transfer function, identified through an iterative calibration procedure minimizing the difference between the prescribed waves and the actual waves measured in the flume. A linear ramp-up function was employed for five periods of the incident waves to avoid undesired disturbances that could affect the wave characteristics. The values of the wavelength $\lambda$, ranging from $0.628$ to $3.590$ m, were examined against the water depth and the beach length. Within linear wave theory, finite water-depth effects are expected to be non-negligible for $h/\lambda < 0.5$. Here, this condition is met for $0.350 < \xi_B < 0.600$. According to Molin (2023), parabolic beaches are generally efficient when $\lambda/L_{Beach < 2>}$, which is marginally satisfied for this wave set. The group speed $c_g$ was used to estimate the time spent for waves to travel the model-wavemaker-model distance, denoted as reflection time in the table. The reflection time is used to estimate the length of a steady-state time window where wave reflections from the beach are not expected to influence measured quantities. Taking into account the initial ramp, the longest wave period of $T = 1.516$ s indicated a steady-state time window of about one steady-state oscillation cycle. Despite the short duration of the steady-state window at this period, we retained the corresponding case ($\xi_B = 0.350$) in the analysis, as it lies at the lower-frequency boundary of the examined range and provides relevant information for comparison with historical and numerical data. For shorter wave periods, the number of steady-state oscillations increases.

Six in-house-built wave probes were deployed along the central axis of the flume, with positions as indicated in the figure above.  Each probe consisted of two stiff wires mounted vertically, each with diameter of $0.003$ m. Surface elevation was proportional to conductivity when a voltage was applied. The wave probes required daily cleaning to maintain accuracy. Rubber spacers ensured consistent wire spacing and were positioned to avoid breaching the water surface.

The complete set of calibrated waves can be found under `./data/1PPH`

## The setup
Three scenarios with the model in regular waves were investigated. Scenario A examined the model as fixed. Scenarios B and C examined the model free (or nearly free) to oscillate in three and in two degrees of freedom, respectively.

### Scenario A - Fixed model
The figure below shows a sketch and a perspective laboratory view of the fixed system. The model was mounted on a wagon with rails and equipped with an actuator for heave translation to the desired position. The height of the fixed rig was adjusted to maintain the model's draft as $d = 0.20$ m, consistent with the floating configuration. Screw clamps were used to stabilize the actuator.

The model was positioned 7 m downstream of the wavemaker
with its central axis at the location of wave probe 5, which was removed.

![Scenario A - The fixed model](./figures/Scenario%20A%20-%20The%20fixed%20model.png)

The integrated loads were measured using a six-degrees-of-freedom MCS10-BG2-010 force transducer from HBK, calibrated by the manufacturer with an accuracy of 0.2% within its rated range. The nominal lateral and axial forces were approximately 2 kN, and the nominal bending and torsional moments were around 0.15 kNm. The force transducer was mounted above the model, as illustrated in the sketch on the left and visible in the perspective view on the right of the figure above . Therefore, the measured roll moment needs to be modified to document forces and moments in the local inertial reference frame shown in the left panel of the figure.

While no fixed system is entirely rigid, it was ensured to be sufficiently stiff for the phenomena of interest. Decay tests, performed by striking the model with a hammer at various locations and directions, revealed a dominant natural frequency of 23 Hz for oscillations about the vertical axis through the force transducer and other coupled vibration modes with natural frequencies of 8, 10 and 12 Hz. The fundamental frequencies of the incident waves ranged from 0.66 Hz to 1.58 Hz, ensuring that the highest fundamental wave frequency remained at least five times lower than the system’s lowest natural frequency.

### Scenario B - Model with three degrees of freedom

The model, positioned 7 m downstream of the wavemaker like in scenario A, was connected to a custom-made rig, illustraded below.

![Scenario B - The freely floating mode](./figures/Scenario%20B%20-%20The%20freely%20floating%20model.png)

Freedom in roll was ensured by an axle running through two bearings mounted at the center of gravity of the model. Freedom in heave was provided by a vertical rail connected to the axle, which ran through two linear guide blocks. This construction was mounted on another pair of linear guide blocks sliding along a horizontal rail, ensuring freedom in sway. Two horizontal tension springs mounted on the plate between the two pairs of linear guide blocks provided a restoring force in sway, acting on the model through its center of gravity to prevent drift without affecting harmonic oscillations. The springs remained in tension and below their yield elongation limit for the entire range of sway travel. The rig did not contribute to the roll moment of inertia but increased the system’s mass. The effects of the vertical rail, bending beam force transducer and axle were taken into account to maintain the specified draft and total mass of the model. The four linear guide blocks and the mounting plate, which only moved in the sway direction, had a combined mass of 0.303 kg. This additional mass was not included in the total mass listed in the table above. In the scenarios with the unrestrained model (B and C), the force transducer used in scenario A could not be employed. Therefore, a bending beam-type strain gauge was used to measure the shear force through the vertical rail acting in the sway direction, directly quantifying the forces exerted by the rig on the model. The gauge was calibrated for loads ranging from 0 to 78 N. Additionally, two ring-type strain gauges were mounted on the springs for redundancy, static friction estimation, and detecting potential unwanted vibrations. These ring-type gauges were calibrated for loads between 0 and 68 N.

The sway, heave, and roll motions of the model were recorded using unique visual markers mounted on both the fixed surroundings and the moving body. A Logitech BRIO 4k webcam, integrated into the facility’s data acquisition system, was used at a resolution of 1280 × 720 pixels and 20 frames per second to optimize storage. Each pixel corresponded to approximately 0.9 mm in both dimensions. Eight unique ArUco markers, provided by OpenCV in Python and widely used for position estimation in autonomous vehicles, were used Markers 0 to 3 were positioned on the tank walls, enabling interpolation of physical coordinates for each pixel. Markers 4 to 7 were placed on the model with known positions relative to the center of gravity.

![Visual markers](./figures/Visial%20markers.png)

To compute displacements, only two markers on the model were necessary, but the system sometimes lost track of them. Using four markers provided six independent pairs for calculating rigid body motions, averaged at each time step. Lens distortion was corrected through a calibration procedure involving a checkered ArUco-pattern at different angles and positions. Markers 0 to 3 were outside the glass wall, while markers 4 to 7 were behind both the glass wall and a thin water sheet. A Python script accounted for light refraction and depth perception (see sketch in right panel of the figure below). Light from the markers passed through water, glass, and air, with each medium causing a change in trajectory according to Snell's law. The script corrected for these effects, ensuring the accurate positioning of the markers in the video analysis.

Three unidirectional accelerometers were also included in the setup, primarily to cross-check the vertical motions estimated by the visual markers. Two accelerometers were mounted on opposite, internal vertical sides of the model to measure heave acceleration, with a horizontal offset of $0.12995$ m to each side of the centerline. A third was placed beneath the axle to measure sway acceleration with a vertical offset of $0.0502$ m below CoG. All accelerations were recorded in the body-fixed reference frame.

Static offset tests in sway and roll were conducted to determine the restoring effects in the present setup. The vertical distance from the model bottom to its center of gravity was measured as $KG = 0.106$ m, which is close to the
planned value $KG = 0.108$ m. The applied springs had a stiffness of 30 N/m each. Four sway offset tests yielded $C_{Sway}$ values of $59.21$, $59.36$, $59.43$, and $60.88$ N/m for offsets up to $\pm 0.20$ m, exhibiting linear behavior with some discrepancies likely due to manual offset inaccuracies.

The natural periods in the relevant degrees of freedom were estimated through decay tests and are documented in the table below.

| Degree of Freedom | T [s] | ξ_B [-] |
|--------------------|--------:|----------:|
| Surge              | –       | –         |
| Sway               | 7.50    | 0.014     |
| Heave              | 1.17    | 0.588     |
| Roll               | 1.26    | 0.507     |
| Pitch              | –       | –         |
| Yaw                | 0.95    | 0.892     |

The sway natural period in the present study is slightly larger and is relatively close to the first longitudinal sloshing mode of $8.79$ s. The corresponding frequency ($\omega \approx 0.838$ rad/s) remains well outside the range of tested incident wave frequencies, and no linear excitation is expected. Moreover, since the tests involve regular waves, difference-frequency interactions that could excite either the sway natural frequency or the sloshing mode are inherently absent. This ensures that the measured sway responses are not contaminated by flume resonance effects.

Dry decay tests were conducted with a movable mass on the rig, applying a moment on the linear guide blocks. From these tests, the system was found to have a linear sway damping coefficient of 8.70 Ns/m, which was assumed to be similar in heave. A sway force of 0.20-0.50 N was needed to overcome guide block static friction. Damping in roll was not quantified but appeared qualitatively small when rotating the axle manually.

### Scenario C - Model with two degrees of freedom

The sketches below illustrates the principles of restricting individual degrees of freedom. The rig designed for scenario B enablet the implementation of these restrictions in physical tests to examine how coupling between degrees of freedom influences the model's motions and forces.

![Scenario C - The restricted model](./figures/Scenario%20C%20-%20The%20restricted%20model.png)

Sway motion was restricted by fastening screw clamps to the horizontal rail, while roll motion was restricted by jamming a wooden wedge between the axle connection point and the center wooden block of the model. The screw clamps and wooden wedges introduced additional mass into the system. When sway was restricted, this additional mass did not influence the other motions of the model. For restricting roll, only a 20 g wooden wedge was used. Restricting heave introduced an additional mass of approximately 300 g moving along the horizontal rail, which could have influenced the natural period in sway. However, restricting heave did not noticeably affect the other natural periods. Restricting sway influenced the natural roll period, increasing it from $T_{Roll} = 1.26$ s (in scenario B),
corresponding to $\xi_B \approx 0.51$, to$ T_{Roll} = 1.28$ s, corresponding to $\xi_B \approx 0.49$. When roll was restricted, the natural period
in sway remained unchanged.